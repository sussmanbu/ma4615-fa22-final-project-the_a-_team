---
title: Analysis
description:
toc: true
featuredVideo:
featuredImage: https://upload.wikimedia.org/wikipedia/commons/7/77/Pebbleswithquarzite.jpg
draft: false
---
Analysis Page：

## **Motivation: **

For decades, climate change has been a heated topic worldwide. While we all have heard some information about climate change and global warming, it seems a broad and far-away question. Is global warming a real thing? And, if it is, what part of it are we playing, and how are we impacted? Moreover, how can we change if the object is enormous compared to our effort? As we dive into the topic of climate change, trying to answer these questions, we find that almost everything essential to human lives relies closely on the climate ——air, water, food, energy, etc., yet we are neglecting it. Our group felt intrigued and responsible for investigating the relationship between human activities and climate change. Specifically, in our analysis, we inspect the aspects of our daily life as factors that impact the major contributor to climate change, CO2 emission. 
We chose the United States as our country of focus and the primary time scope from 2010 to 2019. Through our analysis, we aim to answer the following questions: 1. What is the trend of CO2 emissions, and has it changed through the years? 2. How are we impacting CO2 emissions in our daily life, and to what extent? 3. Is CO2 emission inevitably accompanied by GDP growth and industry development? 4. Can we form any suggestions for heading towards a greener world?

## **Breadth and Depth: **

In our analysis, four related datasets are used as variables in explaining the relation of CO2 emissions:
Air-transportation emissions
Agricultural emissions
Vehicle numbers in the United States
The GDP of the United States
Our goal was to filter out the most significant contributors in each dataset and model the total CO2 emission in the United States. Despite this regression model, we also examined each dataset separately regarding its trend and correlation with the total emission during our exploration. In each section, we provide graphs and explanations as an assistant for audience interpretation.


Section 1: Air emission

Section 2: Agriculture emission

Section 3: Vehicles

Section 4: GDP and Population

Section 5: regression model of CO2 emission


## **Modeling and inference**

```{r EDA_top10, message = FALSE}
library(here)
library(tidyverse)
library(dplyr)
Agri_air <- read_csv(here::here("dataset", "Agri_air_clean.csv"), show_col_types = FALSE)
Agri_air2 <- Agri_air %>%
  group_by(source_of_emissions) %>%
  count(n1 = Emission) %>%
  mutate(prop = n1/sum(n1)) %>%
  arrange(desc(prop))%>%
  head(31)%>%
  select(-n1)


Agri_air_box <- Agri_air2 %>%
  count(n2 = prop) %>%
  ggplot() +
  geom_bar(aes(x = source_of_emissions))+
  coord_flip()
Agri_air_box

```

## **Analysis for EDA (top 10 airline + agriculture emissions): **

* top10: Before we did the separate analysis regarding to each dataset, we use the boxplot to generate the top 10 source of emissions which contribute to the CO2 emission most. We combined the agriculture and airline data together and concluded the ten sources, which is shown on the graph.


```{r EDA_air_trend}
air1 <- read_csv(here::here("dataset", "air_clean.csv"), show_col_types = FALSE)

air2 <- air1 %>%
  group_by(source_of_emissions) %>%
  count(n1 = Emission) %>%
  mutate(prop = n1/sum(n1)) %>%
  arrange(desc(prop))%>%
  head(30)%>%
  select(-n1)
  
air_line <- air1 %>%
  select(year, source_of_emissions, Emission)%>%
filter(source_of_emissions == "(B) - Domestic flight outside of country A, operated by a resident airline of country A" | source_of_emissions == "(F) - International flight outside of country A, operated by a resident airline of country A" | source_of_emissions == "(E) - International flight arriving in country A, operated by a resident airline of country A" | source_of_emissions == "Domestic aviation: (A)+(C)" | source_of_emissions == "Air transport - Industry H51 (ISIC rev.4): (A)+(B)+(D)+(E)+(F)" ) %>%
  ggplot() + geom_point(aes(year, Emission, color = source_of_emissions))
air_line
```

## **Analysis for EDA (top two airline emissions): **

* air_trend: Firstly, I calculated the proportion of the source of emissions in the airline industry and chose the top five elements which contribute most to the emission of CO2 between 2014 and 2019. I did that by using the code 'count()', 'arrange()', and 'head()'. Then, I use the top five elements to plot the relationship between the element and total emission. Surprisingly, I found that there was an obvious increase during 2018 for all these elements. We assume that the airline industry may contribute a larger proportion in 2018 than we previously assumed.



```{r EDA_agri_trend}
Agri_air2 <- Agri_air %>%
  select(year, source_of_emissions, Emission) %>%
filter(source_of_emissions == "Net Forest conversion" | source_of_emissions == "Forest fires" | source_of_emissions == "IPCC Agriculture" | 
               source_of_emissions == "AFOLU" | source_of_emissions == "Emissions on agricultural land" ) %>% group_by(source_of_emissions)

ggplot(Agri_air2, aes(x=year, y=Emission))+
  geom_point(aes(color=source_of_emissions),size=1)+stat_smooth(aes(group=source_of_emissions),color='black',alpha=0.5, geom='line')

```

## **Analysis for EDA (Agricultral elements trend): **

* In this graph, as the numbers of source_of_emissions are too many to conclude in a single graph, we choose five representative ones that can reflect the general trend. Refer to Agricultural Guidance, AFOLU is responsible to approximately 25% of anthropogenic GHG emissions.Besides, Emissions on agricultural land, Forest fires, IPCC Agriculture, and Net Forest conversion are most important sectors in agriculture, so we use them to represent source_of_emissions. According to the graph, we can see the emission of every source_of_emissions increases from 2010-2019. Although the rate of increase fluctuates during these years, we can still see the negative influence of these source_of_emissions influence our climate. They negatively inluences our climate by contributing to the increases of our emissions.


```{r}
vehi2 <- read_csv(here::here("dataset", "vehi_clean.csv"), show_col_types = FALSE)
ggplot(vehi2, aes(year,value, color = type_of_cars)) + 
  geom_line() +
  geom_point()
```

## **Analysis for EDA (number of cars along years): **

* Our group combines the data from 2010 to 2019, but for the overall vehicle change trend, it will be better to view in a longer period of time, so in this graph, we select the data from 1994-2019. We use geom_point() to make a scatterplot for all the vehicles (expect air vehicles). Then using geom_line() to connect the points of same vehicle together to see the trend. Some vehicles such as Truck and bus has unstable changes over years, but the overall trend of vehicles is increasing during 1994 to 2019, we hope the result has relationship with the emission amount during 1994 to 2019. 


```{r}
total_vehicle <- read_csv(here::here("dataset", "total_vehicle_clean.csv"), show_col_types = FALSE)

total_vehicle %>%
  ggplot(aes(year,value, size = emission, color= emission)) +geom_point(aes(color = emission)) + scale_colour_gradient(low = "orange", high = "blue") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1, vjust = 0.5))
```

## **Analysis for EDA (number of cars along years based on emissions): **

* During 1994 to 2008, the emission has the same tendency with the number of vehicle emissions. As number of vehicles increased, the emission amount also increased. However, after 2008, the emission decreased for few years and the number of cars decreased in 2009, and then increased in 2011. so conclusion is the correlation between emissiona and number of vehicles is strong during 1994 to 2008, but it became weak during 2009-2019.


```{r regression model}
gdp_emission <- read_csv(here::here("dataset", "gdp_emission_clean.csv"), show_col_types = FALSE)
library(ggplot2)

model <- lm(log(emission) ~ log(gdp_total), data = gdp_emission)
plot(log(emission) ~ log(gdp_total), data=gdp_emission)
abline(lm(log(emission) ~ log(gdp_total), data=gdp_emission), col = "red")
summary(model)

```


## **Analysis for regression (total GDP and emission): **

* There is a non-linear relationship between log of emissions and log of total GDP. As log of GDP increases, log of emissions also increases. Also, the summary of the model shows the p-value of the linear regression is smaller than 0.05.

```{r}
vehicle_gdp_emission <- read_csv(here::here("dataset", "vehicle_gdp_emission_clean.csv"), show_col_types = FALSE)
ggplot(data = vehicle_gdp_emission, mapping = aes(x = population, y = emission)) +
    geom_point(alpha = 0.1, aes(color = year))
```

## **Analysis for EDA (population and emission): **

* As you can see from the graph, CO2 emissions increased with population growth until 2010. From 2010 to 2013, there was a significant decrease in CO2 emissions, which may be related to the US government's control of greenhouse gases. After 2013, greenhouse gases are on the rise again.


## **Conclusion: **
Overall, we see a sharp increase in CO2 emissions each year. Although multiple factors, as well as CO2 emission, showed fluctuation around 2008-2013, they exhibit the same increasing trend in the big picture. This fluctuation could be a result of the financial crisis in 2008, which induced a decrease in production and consumption that could cause significant emissions of CO2. GDP and population showed a positive relationship to CO2 emission. The correlation between vehicles and CO2 weakened after 2009, possibly because more vehicles are hybrid or electric only. By analyzing the agriculture and air transportation emissions combined, we showed forest fire repeatedly occurs as a top contributor to CO2 emissions. It is worth thinking about how we could change the way we farm and cultivate.


## **Limitations: **

Initially, our group chose only the first three datasets as the object of our analysis. Those datasets only contain limited information, such as the type of emitter and the amount of its emission. Although we have found two more datasets to compensate for insufficient resources, as the variables are primarily qualitative, we have trouble constructing our final regression model. In addition, the timeline of our analysis is mainly from 2010 to 2019, as some datasets are only dated after 2010. Since we want the model to be more precise, we decided to shorten the time scope as a whole and analyzed vehicle and GDP further back in its section.
Moreover, a considerable number of contributors to CO2 emissions exist, and our analysis only touched a little. These datasets are chosen based on our question of interest around daily life, and they probably are not the best to describe the CO2 emission trend. In the future, we could deepen our study by selecting different sectors of human activity and analyzing the impact to provide a more comprehensive model.


## **Clarity: **

In order to guide the audience and deliver clear information, we divided our analysis into five parts. The first four parts contained the analysis of a specific dataset and its correlation to the total CO2 emission. We include a brief introduction to the dataset as well as the reasoning for being a related variable. Then, we created different graphs that suited the need for interpretation. Each chart is designed with a title and labeled axis, with coloring to help distinguish differences. The result of the analysis and interpretation of the graphs are provided to ensure the audience’s precise understanding. For our final regression model, we offer both the complete model and the conclusion of the results. We will explain the step-by-step progress of our modeling so the audience can follow our reasoning.

