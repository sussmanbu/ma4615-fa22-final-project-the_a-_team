---
title: "Data"
description: null
toc: yes
featuredVideo: null
featuredImage: images/Data science.png
draft: no
---
----

## **Data source**

* Global climate change has always been a heated topic worldwide. Since the Paris Climate Agreement was signed in 2015, major countries have taken action to cut CO2 emissions and to operate cleaner and greener. The United States, being the top emitter of CO2 in the world, is an effective representative for us to analyze how far we are in reaching the goal. Therefore, in this project, we will be looking at the CO2 emission trends of the United States in the period `2015 - 2019`. In particular, we will choose flight, agriculture, and vehicle industry as the focal factors in our study.


## **Links to the original data sources (Airline):**

* https://stats.oecd.org/Index.aspx?QueryId=105629#

  * Attribution: OECD (The Organisation for Economic Co-operation and Development)

**Data collection**

* The first dataset is a record of CO2 emissions in the flight industry. `OECD` (The Organization for Economic Co-operation and Development) collects this data. This organization collects global data to work with governments and policymakers to solve problems facing society and the environment and to find solutions to these problems. Specifically, it provides the estimated CO2 emission data from 186 countries worldwide. 

* The dataset includes four parts —— passenger, commercial, freight, and general aviation flight sectors. `ICAO` collected and provided the data source, and `OECD` estimated based on ICAO data. They used a database built by the `International Civil Aviation Organisation (ICAO)` as the source of their estimation. This `ICAO` database records the departure and arrival airports, the operating airline, and the type of aircraft used for each flight. From this information, coupled with the CO2 calculator provided by Eurocontrol, `OECD` was able to create an accurate estimation for CO2 emission vs. flights dataset. We use this dataset as the other indicating factor as we try to model the CO2 emission in the vehicle industry.
  
**Data cleaning**

* First, according to the scope of the study determined by the group, we will focus on CO2 emissions in the United States. Using `filter()` and `values_drop_na` to narrow down and ignore NAs. We only research on time from 2015 - 2019. To clarify the dataset, I use `arrange()` to arrange data by time. In this way, we can see the trend of emissions by year. For the dataset I found, there are repeated columns with redundant information. Thus, I used `select()` to remove some irrelevant columns to our research topic. For the convenience of combining the three datasets we found, I `rename()` all of the titles of variables matching in the other two datasets. In order to match the number of columns between two datasets, I only keep the most important variable: `source of emissions`. I used `select()` to keep the variables I wanted. Finally, `ungroup()` ensures future data management. 


install.packages("kableExtra")

\newline

**Variables explanation**

* **Domestic aviation**: It is the domestic flights that takes place entirely in one country, which means the departure and arrival cities are all the in same country----U.S. CO2 is the largest component of aircraft emissions, accounting for approximately 70 percent of the exhaust.

* **International aviation**:Flying to a different country is referred to as an international flight. It is made through international airports and keeps tourism and trade between countries alive at the same time.


## **Links to the original data sources (Agriculture):**

*  https://www.kaggle.com/datasets/ankitpranay/global-emissions-from-agriculture-and-forest-land?resource=download 

  * Attribution: Ankit Pranay on Kaggle
  
**Data collection**

* The second dataset Global emissions from agriculture and forest land are collected by the organization FAOSTAT. This organization provides free access to food and agriculture statistics for over 245 countries and covers all FAO original groupings from 1961 to the most recent year available. In this dataset, FAOSTAT collects data to investigate the main contributions of increasing global greenhouse emissions and tries to solve the crux of environmental issues in the past few decades.


* The FAOSTAT domain Emissions Totals summarize the `greenhouse gas (GHG) emissions` disseminated in the FAOSTAT     Climate Change Emissions domains, generated from agriculture and forest land. They consist of methane (CH4), nitrous oxide (N2O), and carbon dioxide (CO2) emissions from crop and livestock activities and forest management and include land use and land-use change processes. Data are computed at Tier 1 of the IPCC Guidelines for National greenhouse gas (GHG) Inventories.

**Data cleaning**

* Link: [load_and_clean_data.R](/load_and_clean_data.R)

* After researching the factors that cause the increasing CO2 emissions, I found that `agriculture/land use` is one of the main contributors to CO2 emissions. Analyzing the data on agriculture helps to figure out the trend of CO2 emission. So I found the dataset about agriculture. 

* After exploring the dataset, I first filtered out the region and time. We focus on the data from 2015 to 2019 in the United States for all three datasets. And then, I filtered the emission element, which is CO2 emission. In order to make three datasets uniform, I added a new column for the unit “tonnes” by using `mutate()`, so that it matches the other two datasets. Then I changed the emission values by multiplying 1000 to convert it to tonnes. I selected the columns I needed by `select()`. To make the dataset more organized and easy to read, I renamed several variables to make them coherent with the other two datasets. Since the original dataset is wide, I change the format of the dataset by using `pivot_longer`. So that the year becomes the rows and the whole table looks clear and concise.

\newline

**Variables explanations**

* The emission primarily alludes to `GHG(greenhouse gas)`, and while CO2 accounts for about 76 percent of total greenhouse gas emissions, we mainly focus on `CO2 emissions` in our project. The emission connects strictly with the conditions of climate, so it can be an important index to judge the climate situation. In our project, emission is a dependent variable that can be influenced by many independent variables that I will mention in the following.

* **AFOLU**: AFOLU is abbreviation of Agriculture, Forestry and other land use. It can be considered as a sector that contributes to the emission.

* **farm-gate emission**: Field to Farm Gate refers to the emissions caused by the act of growing a specific ingredient before any factory, processing, transportation, or distribution emissions.

* **Enteric Fermentation**: It is a natural part of the digestive process in ruminant animals such as cattle, sheep, goats, and buffalo. Methane will produced by enteric fermentation as a by-product.

* **IPCC Agricultural**: Intergovernmental panel on climate change.The following sectors are included: energy, industrial processes, agriculture, land-use change and forestry, and waste.

* **Emission on agricultural land**: It refers to the share of land area that is arable, under permanent crops, and under permanent pastures.Most farm-related emissions come in the form of methane and nitrogenous oxide.
Enteric Fermentation: It is a natural part of the digestive process in ruminant animals such as cattle, sheep, goats, and buffalo. Methane will produced by enteric fermentation as a by-product.


## **Links to the original data sources (Vehicle):**

* https://www.bts.gov/content/number-us-aircraft-vehicles-vessels-and-other-conveyances

  * Attribution: Bureau of Transportation Statistics official website


**Data collection**

* The third dataset collects information about the number of U.S. Aircraft, Vehicles, Vessels, and Other Conveyances. It is found on the Bureau of Transportation Statistics official website. The reason why we use this dataset is because we want to find the relationship between the `total emissions` and the `vehicle number change` in the United States. We want to find how different types of vehicle are related to the emission amount. 


**Data cleaning**

* Since we had already combined emissions on Airplanes and Agriculture by rows, I used `filter()` to remove the Air carrier column. Also, we want to find the effect of vehicles on CO2 emissions; I used `filter()` to filter out the water vehicles. Thus, only Highway vehicles and Rail Transportation were kept in the dataset. The title of the types of vehicles is missing. I used `ls()` to list all of the variables' names, and then I `rename()` the title for the types of vehicles. Finally, the dataset is too wide, and years are all layout as variables. It will need to be clarified for future interpretation because the same observation cannot be across multiple columns. Thus, I used `pivot_longer()` to make the dataset longer rather than wide. As before, we `arrange()` years for straightforward interpretation. 

## **Code combined two data sets:**

* Because we are interested in causing different aspects of CO2 emissions, and because the row numbers of two datasets are not the same, `left_join()` the two data is meaningless. Therefore, we decided to make the column numbers and titles of the two data the same before `rbind()` the two datasets.

## **Variables explanation for two datasets**

The data sets we select are data from agriculture, flights and vehicles. We want to examine their influence to the `emission` situation. The size of raw data is too broad to focus, so we clean the data and specifically focus on data of emissions from 2010-2019 in the U.S. to discover a trend. For the first combined data file, we combine data of agriculture and flights. Considering variables in terms of columns, we have 5 variables. They are `country`, `year`, `source_of_emissions`, `Emission`, `Element(tonnes)`.

* country: A `country` means a nation. While we use `country` to limit our search to a certain area, the only country we examine here is the United States of America. 

* year: A `year` is a period of 365 days. We use variable `year` to focus our search on a certain time range. We choose data from 2010 to 2019 to examine the trend, so `year` include 2010, 2011, 2012….2019.

* source_of_emissions: `source_of_emissions` tells us what kinds of source in agriculture and flight can generate emissions. There are many types of `source_of_emissions` in the column, including AFOLU, emission on agricultural land, Enteric Fermentation, Domestic Aviation, International aviation and so on.

* Emission: `Emission` means the production and discharge of somethings, and we examine the discharge of gas here. The column of `Emission` tells us how many emissions of gas will be created under the influence of factors such as `source_of_emissions` in a certain `year` in United States of America. 

* Element(tonnes): `Element(tonnes)` tells us what elements constitute emissions. Specifically, it tells us what is the component of the emission.
If we look at the rows of the first combined data file, we can find there are 1106 rows of samples. Every row displays the data of emissions of different sources of emission in each year from 2010-2019 in United States of America and its corresponding components(elements) of emissions.

## **Code combined three data sets:**

* we combined the three datasets (Agriculture, airline, car) by `left_join` and organized them by years. We combined the same columns of the three datasets so that we could analyze and compare the number/content in one dataset.

**Variables explanation for three datasets**

For the second combined data file, we combine data of agriculture, flights, and vehicles together. Then there are more variables in this combined data file. 7 variables are included in this data file, and they are `country`, `year`, `source_of_emissions`, `Emission`, `Element(tonnes)`, `type_of_cars`, and `value`. To examine variables in term of columns, the second combined data file has 5 same variables with those of the first combined data file. So, I will focus on explaining `type_of_cars` and `value` here.

* type_of_cars：`type_of_cars` tries to show what types of cars are creating emissions and pollute the United States of America in each year. `type_of_cars` include Trolley bus, Commuter rail cars and locomotives, and Amtrak, locomotives…

* value: The meaning of `value` here indicates the number of `type_of_cars` for each corresponding `type_of_cars` in each year. 

* If we focus on the rows of this second combined data file, we can find there are 19,908 rows of samples, each exhibiting data of sources of emission, emission, corresponding element of emission, type of cars, and number of cars in each year from 2010-2019 in United States of America.

