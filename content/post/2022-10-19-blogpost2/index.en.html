---
title: blogpost2
author: The_A+_team
date: '2022-10-19'
slug: []
categories: []
tags: []
description: ~
toc: yes
authors: []
series: []
lastmod: '2022-10-19T14:13:57-04:00'
featuredVideo: ~
featuredImage: ~
---


<div id="TOC">

</div>

<p>install.packages(“dplyr”)</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.2 ──
## ✔ ggplot2 3.3.6      ✔ purrr   0.3.4 
## ✔ tibble  3.1.6      ✔ dplyr   1.0.10
## ✔ tidyr   1.2.0      ✔ stringr 1.4.0 
## ✔ readr   2.1.2      ✔ forcats 0.5.2 
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>electricity &lt;- read_csv(&quot;electricity.csv&quot;)</code></pre>
<pre><code>## New names:
## Rows: 57 Columns: 54
## ── Column specification
## ──────────────────────────────────────────────────────── Delimiter: &quot;,&quot; chr
## (3): Electricity Emissions by State (1970 - 2020), Change from 1970 - 20...
## ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
## Specify the column types or set `show_col_types = FALSE` to quiet this message.
## • `` -&gt; `...2`
## • `` -&gt; `...3`
## • `` -&gt; `...4`
## • `` -&gt; `...5`
## • `` -&gt; `...6`
## • `` -&gt; `...7`
## • `` -&gt; `...8`
## • `` -&gt; `...9`
## • `` -&gt; `...10`
## • `` -&gt; `...11`
## • `` -&gt; `...12`
## • `` -&gt; `...13`
## • `` -&gt; `...14`
## • `` -&gt; `...15`
## • `` -&gt; `...16`
## • `` -&gt; `...17`
## • `` -&gt; `...18`
## • `` -&gt; `...19`
## • `` -&gt; `...20`
## • `` -&gt; `...21`
## • `` -&gt; `...22`
## • `` -&gt; `...23`
## • `` -&gt; `...24`
## • `` -&gt; `...25`
## • `` -&gt; `...26`
## • `` -&gt; `...27`
## • `` -&gt; `...28`
## • `` -&gt; `...29`
## • `` -&gt; `...30`
## • `` -&gt; `...31`
## • `` -&gt; `...32`
## • `` -&gt; `...33`
## • `` -&gt; `...34`
## • `` -&gt; `...35`
## • `` -&gt; `...36`
## • `` -&gt; `...37`
## • `` -&gt; `...38`
## • `` -&gt; `...39`
## • `` -&gt; `...40`
## • `` -&gt; `...41`
## • `` -&gt; `...42`
## • `` -&gt; `...43`
## • `` -&gt; `...44`
## • `` -&gt; `...45`
## • `` -&gt; `...46`
## • `` -&gt; `...47`
## • `` -&gt; `...48`
## • `` -&gt; `...49`
## • `` -&gt; `...50`
## • `` -&gt; `...51`
## • `` -&gt; `...52`
## • `` -&gt; `...54`</code></pre>
<pre class="r"><code>spec(electricity)</code></pre>
<pre><code>## cols(
##   `Electricity Emissions by State (1970 - 2020)` = col_character(),
##   ...2 = col_number(),
##   ...3 = col_number(),
##   ...4 = col_number(),
##   ...5 = col_number(),
##   ...6 = col_number(),
##   ...7 = col_number(),
##   ...8 = col_number(),
##   ...9 = col_number(),
##   ...10 = col_number(),
##   ...11 = col_number(),
##   ...12 = col_number(),
##   ...13 = col_number(),
##   ...14 = col_number(),
##   ...15 = col_number(),
##   ...16 = col_number(),
##   ...17 = col_number(),
##   ...18 = col_number(),
##   ...19 = col_number(),
##   ...20 = col_number(),
##   ...21 = col_number(),
##   ...22 = col_number(),
##   ...23 = col_number(),
##   ...24 = col_number(),
##   ...25 = col_number(),
##   ...26 = col_number(),
##   ...27 = col_number(),
##   ...28 = col_number(),
##   ...29 = col_number(),
##   ...30 = col_number(),
##   ...31 = col_number(),
##   ...32 = col_number(),
##   ...33 = col_number(),
##   ...34 = col_number(),
##   ...35 = col_number(),
##   ...36 = col_number(),
##   ...37 = col_number(),
##   ...38 = col_number(),
##   ...39 = col_number(),
##   ...40 = col_number(),
##   ...41 = col_number(),
##   ...42 = col_number(),
##   ...43 = col_number(),
##   ...44 = col_number(),
##   ...45 = col_number(),
##   ...46 = col_number(),
##   ...47 = col_number(),
##   ...48 = col_number(),
##   ...49 = col_number(),
##   ...50 = col_number(),
##   ...51 = col_number(),
##   ...52 = col_number(),
##   `Change from 1970 - 2020` = col_character(),
##   ...54 = col_character()
## )</code></pre>
<pre class="r"><code>electricity1 &lt;- electricity %&gt;% select(-(2:46),-(52:54))
electricity2 &lt;- electricity1[-c(1,55:57),] %&gt;% 
  rename (electricity_emission_by_state = `Electricity Emissions by State (1970 - 2020)`)
electricity2</code></pre>
<pre><code>## # A tibble: 53 × 6
##    electricity_emission_by_state  ...47  ...48  ...49  ...50  ...51
##    &lt;chr&gt;                          &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1 State                         2015   2016   2017   2018   2019  
##  2 Alabama                         62.4   55.6   51     53.9   48.5
##  3 Alaska                           3      2.8    2.8    2.7    2.7
##  4 Arizona                         50     44.6   43.8   46.8   43.5
##  5 Arkansas                        27.3   30.5   32.1   37     31.2
##  6 California                      44.1   36.5   32.9   33.6   31.1
##  7 Colorado                        37     35.6   35.2   34.2   33.5
##  8 Connecticut                      7.4    7      6.3    8      7.9
##  9 Delaware                         3.3    3.6    2.9    2.6    1.8
## 10 District of Columbia             0      0      0      0      0  
## # … with 43 more rows</code></pre>
<p>After our group discussion, we decide to focus on the topic of the carbon dioxide (CO2) emission by electricity, transportation and agriculture in the United States. By evaluating the whole dataset, we think it is better to explore the relationship of CO2 emission in recent years, so we focus on data between 2015-2019. The electricty data set includes the CO2 emission of different states in the US from 1970-2020, I used <code>select</code> to clean up all the data besides 2015-2019, and rest of the data can be used for analyzation.</p>
<p>install.packages(“dplyr”)</p>
<pre class="r"><code>library(dplyr)
library(tidyverse)
air1 &lt;- read_csv(&quot;AIRTRANS_CO2.csv&quot;, show_col_types = FALSE) %&gt;% 
  filter(LOCATION == &quot;USA&quot;, values_drop_na = TRUE) %&gt;% 
  arrange(order(Time)) %&gt;% 
  select(-POLLUTANT, -MEASURE, -FLIGHT, -FREQUENCY, -SOURCE, -SEASONALITY, -TIME, -`Flag Codes`, -Flags) %&gt;% 
  filter(Time &gt; 2014 &amp; Time &lt; 2020) %&gt;% 
  rename(flight_type = `Flight type`, source_of_emissions = `Source of emissions`) %&gt;% 
  group_by(flight_type, source_of_emissions) %&gt;% 
  mutate(count = n()) %&gt;% 
  as_tibble(air1) %&gt;% 
  ungroup() 
air1</code></pre>
<pre><code>## # A tibble: 180 × 11
##    LOCATION Country  Pollutant  Measure flight_type Frequency source_of_emissio…
##    &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;             
##  1 USA      United … Carbon di… tonnes… All flights Annual    &quot;\&quot;(A) - Domestic…
##  2 USA      United … Carbon di… tonnes… All flights Annual    &quot;\&quot;(E) - Internat…
##  3 USA      United … Carbon di… tonnes… All flights Annual    &quot;Bridging item - …
##  4 USA      United … Carbon di… tonnes… Passenger … Annual    &quot;\&quot;(A) - Domestic…
##  5 USA      United … Carbon di… tonnes… Passenger … Annual    &quot;\&quot;(E) - Internat…
##  6 USA      United … Carbon di… tonnes… Passenger … Annual    &quot;Bridging item - …
##  7 USA      United … Carbon di… tonnes… Freight fl… Annual    &quot;\&quot;(A) - Domestic…
##  8 USA      United … Carbon di… tonnes… Freight fl… Annual    &quot;\&quot;(E) - Internat…
##  9 USA      United … Carbon di… tonnes… Freight fl… Annual    &quot;Bridging item - …
## 10 USA      United … Carbon di… tonnes… All flights Annual    &quot;\&quot;(A) - Domestic…
## # … with 170 more rows, and 4 more variables: Seasonality &lt;chr&gt;, Time &lt;chr&gt;,
## #   Value &lt;dbl&gt;, count &lt;int&gt;</code></pre>
<p>I am working on a large dataset because it includes data from all over the world. There are thousands of rows, but we only focus on the situation in the United States. Luckily, in the dataset that I found, there is no missing value. Only in the last two columns all of the values are NAs, so I used select() to remove both of them. Also, for every variable, two versions of data show up: one of them is abbreviated, and the other one is full name. Thus, I selected the one with the abbreviated name. As for flight type and source of emissions, since there are too many categories, I choose to group_by() both. Then, we can analyze data in more small subgroups. For example, we can analyze that in 2015, passenger flight which is domestic flights operated by a resident airline in USA.</p>
